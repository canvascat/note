## [jquery获取input或textarea的光标位置](http://www.utubon.com/post/277.html)

```js
(function(jQuery){
	jQuery.fn.getCursorPosition = function(){
		if(this.lengh == 0) return -1;
		return $(this).getSelectionStart();
	}
    // 
	jQuery.fn.setCursorPosition = function(position){
		if(this.lengh == 0) return this;
		return $(this).setSelection(position, position);
	}
    // 获取光标选择文本
	jQuery.fn.getSelection = function(){
		if(this.lengh == 0) return -1;
		var s = $(this).getSelectionStart();
		var e = $(this).getSelectionEnd();
		return this[0].value.substring(s,e);
	}
    // 获取光标开始位置
	jQuery.fn.getSelectionStart = function(){
		if(this.lengh == 0) return -1;
		input = this[0];

		var pos = input.value.length;

		if (input.createTextRange) {
			var r = document.selection.createRange().duplicate();
			r.moveEnd('character', input.value.length);
			if (r.text == '') 
			pos = input.value.length;
			pos = input.value.lastIndexOf(r.text);
		} else if(typeof(input.selectionStart)!="undefined")
		pos = input.selectionStart;

		return pos;
	}
    // 获取光标结束位置
	jQuery.fn.getSelectionEnd = function(){
		if(this.lengh == 0) return -1;
		input = this[0];

		var pos = input.value.length;

		if (input.createTextRange) {
			var r = document.selection.createRange().duplicate();
			r.moveStart('character', -input.value.length);
			if (r.text == '') 
			pos = input.value.length;
			pos = input.value.lastIndexOf(r.text);
		} else if(typeof(input.selectionEnd)!="undefined")
		pos = input.selectionEnd;

		return pos;
	}
    // 设置光标选择范围
	jQuery.fn.setSelection = function(selectionStart, selectionEnd) {
			if(this.lengh == 0) return this;
			input = this[0];

			if (input.createTextRange) {
					var range = input.createTextRange();
					range.collapse(true);
					range.moveEnd('character', selectionEnd);
					range.moveStart('character', selectionStart);
					range.select();
			} else if (input.setSelectionRange) {
					input.focus();
					input.setSelectionRange(selectionStart, selectionEnd);
			}

			return this;
	}
    // 在光标处插入
	jQuery.fn.insertAtCousor = function(myValue){
		var $t=$(this)[0];
		if (document.selection) {
			this.focus();
			sel = document.selection.createRange();
			sel.text = myValue;
			this.focus();
		}else if($t.selectionStart || $t.selectionStart == '0'){
			var startPos = $t.selectionStart;
			var endPos = $t.selectionEnd;
			var scrollTop = $t.scrollTop;
			$t.value = $t.value.substring(0, startPos) + myValue + $t.value.substring(endPos, $t.value.length);
			this.focus();
			$t.selectionStart = startPos + myValue.length;
			$t.selectionEnd = startPos + myValue.length;
			$t.scrollTop = scrollTop;
		}else{
			this.value += myValue;
			this.focus();
		}
	}
})(jQuery);
```

> 在光标处插入一段内容: `$('input').insertAtCursor('content');`

## 移动端开发

```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
```
- device-width 设备宽度
- initial-scale 初始缩放比例
- minimum-scale 最小缩放比例
- maximum-scale 最大缩放比例
- user-scalable 是否允许手动缩放
```html
<meta content="telephone=no, email=no" name="format-detection">
<!-- 禁止自动识别电话号码及邮箱 -->
<meta content="yes" name="apple-mobile-web-app-capable">
<!-- iPhone：会删除默认的工具栏和菜单栏，网站开启对web app程序的支持 -->
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<!-- iPhone：在web app应用下状态条（屏幕顶部条）的颜色,默认值为default（白色），可以定为black（黑色）和black-translucent（灰色半透明）。 -->
<meta name="apple-touch-fullscreen" content="yes" />
<!-- iPhone：如果把一个web app添加到了主屏幕中，那么从主屏幕中打开这个web app则全屏显示 -->
<link rel="apple-touch-icon" href="/static/images/identity/HTML5_Badge_64.png" />
<!-- iPhone：将应用添加到手机主屏幕，会有一个icon可以直接进入 -->
```
```css
body {
    word-wrap: break-word;
    font: 16px/1.5 Helvetica, Arial;
    /* 这里是设置字体，Helvetica字体在移动端各系统都支持（都不支持微软雅黑） */
    color: #333;
    -webkit-text-size-adjust: none; 
    /* 设置文本不会放大，普通网页在移动端打开文本是会跟随网页结构缩放的 */
}
body *{
    -webkit-tap-highlight-color: transparent;
    /* 在一些手机上，如iphone，点击按钮等元素会出现点击态的背景色，设置为透明就看不出来了 */
    -webkit-user-select:none;
    /* 设置元素内的文字及其子元素将不会被选中 */
}
@media all and (min-width: 1px) and (max-width: 1px) {
    /* @media 媒体类型 and (视口特性阈值) */
}
```

```js
// 屏蔽F12
document.addEventListener('keydown', function (event) {
    if (event.which === 123) event.preventDefault()
})
```